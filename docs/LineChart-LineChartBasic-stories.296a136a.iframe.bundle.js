"use strict";(self.webpackChunk_vannizhang_react_d3_charts=self.webpackChunk_vannizhang_react_d3_charts||[]).push([[193],{"./src/LineChart/LineChartBasic.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CustomAxisOptions:function(){return CustomAxisOptions},CustomOptionsForXAndYScale:function(){return CustomOptionsForXAndYScale},CustomStyle:function(){return CustomStyle},Default:function(){return Default},ShowTooltipAndReferenceLine:function(){return ShowTooltipAndReferenceLine},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return LineChartBasic_stories}});__webpack_require__("./src/variables.css");var react=__webpack_require__("./node_modules/react/index.js"),src=__webpack_require__("./node_modules/d3/src/index.js"),SvgContainer=__webpack_require__("./src/SvgContainer/SvgContainer.tsx"),XAxis=__webpack_require__("./src/XAxis/XAxis.tsx"),YAxis=__webpack_require__("./src/YAxis/YAxis.tsx"),PointerEventsOverlay=__webpack_require__("./src/PointerEventOverlay/PointerEventsOverlay.tsx"),TooltipOnTop=__webpack_require__("./src/Tooltip/TooltipOnTop.tsx"),PointerReferenceLine=__webpack_require__("./src/PointerEventOverlay/PointerReferenceLine.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const Line=({xScale:xScale,yScale:yScale,data:data,svgContainerData:svgContainerData,stroke:stroke="steelblue",width:width=1})=>{const lineGroup=react.useRef(),valueline=(0,react.useMemo)((()=>(0,src.jvg)().curve(src.FdL).x((d=>xScale(d.key))).y((d=>yScale(d.value)))),[xScale,yScale]),remove=()=>{const lines=(0,src.Ys)(lineGroup.current).selectAll("path");lines.size()&&lines.remove().exit()};return(0,react.useEffect)((()=>{svgContainerData&&xScale&&yScale&&data&&(remove(),(0,src.Ys)(lineGroup.current).append("path").data([data]).attr("d",valueline).style("fill","none").style("stroke",stroke).style("stroke-width",width))}),[xScale,yScale,data]),(0,jsx_runtime.jsx)("g",{ref:lineGroup,className:"line-group"})};Line.displayName="Line";var LineChart_Line=Line;try{Line.displayName="Line",Line.__docgenInfo={description:"",displayName:"Line",props:{xScale:{defaultValue:null,description:"",name:"xScale",required:!0,type:{name:"ScaleTime<number, number, never> | ScaleLinear<number, number, never>"}},yScale:{defaultValue:null,description:"",name:"yScale",required:!0,type:{name:"ScaleLinear<number, number, never>"}},svgContainerData:{defaultValue:null,description:"",name:"svgContainerData",required:!1,type:{name:"SvgContainerData"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"LineChartData"}},stroke:{defaultValue:{value:"steelblue"},description:"",name:"stroke",required:!1,type:{name:"string"}},width:{defaultValue:{value:"1"},description:"",name:"width",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/LineChart/Line.tsx#Line"]={docgenInfo:Line.__docgenInfo,name:"Line",path:"src/LineChart/Line.tsx#Line"})}catch(__react_docgen_typescript_loader_error){}var constants=__webpack_require__("./src/SvgContainer/constants.ts");const LineChartBasic=({data:data,stroke:stroke,strokeWidth:strokeWidth,showTooltip:showTooltip,xScaleOptions:xScaleOptions={},yScaleOptions:yScaleOptions={},xAxisOptions:xAxisOptions={},yAxisOptions:yAxisOptions={},margin:margin=constants.A})=>{const[dimension,setDimension]=(0,react.useState)({height:0,width:0}),[hoveredChartItem,setHoveredChartItem]=(0,react.useState)(),xScale=(0,react.useMemo)((()=>{const{width:width}=dimension,xmin=(0,src.VV$)(data,(d=>d.key)),xmax=(0,src.Fp7)(data,(d=>d.key));return xScaleOptions?.useTimeScale?(0,src.Xf)().range([0,width]).domain([xmin,xmax]):(0,src.BYU)().range([0,width]).domain([xmin,xmax])}),[dimension,data]),yScale=(0,react.useMemo)((()=>{const{height:height}=dimension;let domain=yScaleOptions?.domain||[];if(!domain.length){domain=[0,data&&data.length?(0,src.Fp7)(data,(d=>d.value)):0]}return(0,src.BYU)().range([height,0]).domain(domain)}),[dimension,data]);return(0,jsx_runtime.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[(0,jsx_runtime.jsxs)(SvgContainer.Z,{margin:margin,dimensionOnChange:setDimension,children:[(0,jsx_runtime.jsx)(LineChart_Line,{xScale:xScale,yScale:yScale,data:data,stroke:stroke,width:strokeWidth}),(0,jsx_runtime.jsx)(XAxis.K,{scale:xScale,showGridLines:xAxisOptions?.showGridLines,timeformatSpecifier:xAxisOptions?.timeformatSpecifier,numberOfTicks:xAxisOptions?.numberOfTicks,tickFormatFunction:xAxisOptions?.tickFormatFunction}),(0,jsx_runtime.jsx)(YAxis.B,{scale:yScale,showGridLines:yAxisOptions.showGridLines,numberOfTicks:yAxisOptions.numberOfTicks,tickFormatFunction:yAxisOptions?.tickFormatFunction}),showTooltip?(0,jsx_runtime.jsx)(PointerReferenceLine.W,{xPosition:hoveredChartItem?hoveredChartItem.xPosition:null}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{}),(0,jsx_runtime.jsx)(PointerEventsOverlay.X,{xScale:xScale,xDomain:data.map((d=>d.key)),hoveredChartItemOnChange:setHoveredChartItem})]}),showTooltip&&hoveredChartItem&&(0,jsx_runtime.jsx)(TooltipOnTop.d,{content:data[hoveredChartItem.index]?.tooltip,xPosition:hoveredChartItem.xPosition,dimension:dimension,margin:margin})]})};LineChartBasic.displayName="LineChartBasic";try{LineChartBasic.displayName="LineChartBasic",LineChartBasic.__docgenInfo={description:"Basic Line Chart",displayName:"LineChartBasic",props:{data:{defaultValue:null,description:"array of `LineChartDataItem` that will be used to plot the Line Chart",name:"data",required:!0,type:{name:"LineChartData"}},stroke:{defaultValue:null,description:"stroke color of the Line",name:"stroke",required:!1,type:{name:"string"}},strokeWidth:{defaultValue:null,description:"width of the line",name:"strokeWidth",required:!1,type:{name:"number"}},showTooltip:{defaultValue:null,description:"if true, show tooltip when user hovers the chart",name:"showTooltip",required:!1,type:{name:"boolean"}},xScaleOptions:{defaultValue:{value:"{}"},description:"options that will be used to create scale function for the x-axis",name:"xScaleOptions",required:!1,type:{name:"{ useTimeScale?: boolean; }"}},yScaleOptions:{defaultValue:{value:"{}"},description:"options that will be used to create scale function for the y-axis",name:"yScaleOptions",required:!1,type:{name:"{ domain?: number[]; }"}},xAxisOptions:{defaultValue:{value:"{}"},description:"options to customized x axis",name:"xAxisOptions",required:!1,type:{name:"XAxisOptions"}},yAxisOptions:{defaultValue:{value:"{}"},description:"options to customized y axis",name:"yAxisOptions",required:!1,type:{name:"YAxisOptions"}},margin:{defaultValue:{value:"{\n    top: 15,\n    right: 15,\n    bottom: 30,\n    left: 30,\n}"},description:"custom margin space",name:"margin",required:!1,type:{name:"SvgContainerMargins"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/LineChart/LineChartBasic.tsx#LineChartBasic"]={docgenInfo:LineChartBasic.__docgenInfo,name:"LineChartBasic",path:"src/LineChart/LineChartBasic.tsx#LineChartBasic"})}catch(__react_docgen_typescript_loader_error){}const data=[{key:2013,value:26,tooltip:"this is a tooltip"},{key:2014,value:38,tooltip:"this is a <strong>tooltip</strong>"},{key:2015,value:10,tooltip:"this is <br/>a tooltip"},{key:2016,value:45,tooltip:"this is a tooltip"},{key:2017,value:10,tooltip:"this is a tooltip"},{key:2018,value:12,tooltip:"this is a tooltip"},{key:2019,value:15,tooltip:"this is a tooltip"},{key:2020,value:7,tooltip:"this is a tooltip"},{key:2021,value:23,tooltip:"this is a tooltip"},{key:2022,value:20,tooltip:"this is a tooltip"}];var LineChartBasic_stories={title:"Example/LineChartBasic",component:LineChartBasic,decorators:[Story=>(0,jsx_runtime.jsx)("div",{style:{width:"100%",height:"100%"},children:(0,jsx_runtime.jsx)(Story,{})})],tags:["autodocs"]};const Default={args:{data:data}},CustomStyle={args:{data:data,stroke:"orange",strokeWidth:3}},CustomAxisOptions={args:{data:data,xAxisOptions:{showGridLines:!0,numberOfTicks:5,tickFormatFunction:val=>val.toString()},yAxisOptions:{showGridLines:!0,numberOfTicks:2,tickFormatFunction:val=>"+"+val.toString()}}},ShowTooltipAndReferenceLine={args:{data:data,showTooltip:!0}},CustomOptionsForXAndYScale={args:{data:[{key:13570272e5,tooltip:"this is a tooltip",value:26},{key:13885632e5,tooltip:"this is a tooltip",value:38},{key:14200992e5,tooltip:"this is a tooltip",value:10},{key:14516352e5,tooltip:"this is a tooltip",value:45},{key:14832576e5,tooltip:"this is a tooltip",value:10},{key:15147936e5,tooltip:"this is a tooltip",value:12},{key:15463296e5,tooltip:"this is a tooltip",value:15},{key:15778656e5,tooltip:"this is a tooltip",value:7},{key:1609488e6,tooltip:"this is a tooltip",value:23},{key:1641024e6,tooltip:"this is a tooltip",value:20}],showTooltip:!0,xScaleOptions:{useTimeScale:!0},yScaleOptions:{domain:[0,200]},xAxisOptions:{timeformatSpecifier:"%Y %b"},margin:{top:15,right:20,bottom:30,left:30}}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  // More on args: https://storybook.js.org/docs/react/writing-stories/args\n  args: {\n    data\n  }\n}",...Default.parameters?.docs?.source}}},CustomStyle.parameters={...CustomStyle.parameters,docs:{...CustomStyle.parameters?.docs,source:{originalSource:"{\n  // More on args: https://storybook.js.org/docs/react/writing-stories/args\n  args: {\n    data,\n    stroke: 'orange',\n    strokeWidth: 3\n  }\n}",...CustomStyle.parameters?.docs?.source}}},CustomAxisOptions.parameters={...CustomAxisOptions.parameters,docs:{...CustomAxisOptions.parameters?.docs,source:{originalSource:"{\n  // More on args: https://storybook.js.org/docs/react/writing-stories/args\n  args: {\n    data,\n    xAxisOptions: {\n      showGridLines: true,\n      numberOfTicks: 5,\n      tickFormatFunction: (val: number) => {\n        return val.toString();\n      }\n    },\n    yAxisOptions: {\n      showGridLines: true,\n      numberOfTicks: 2,\n      tickFormatFunction: (val: number) => {\n        return '+' + val.toString();\n      }\n    }\n  }\n}",...CustomAxisOptions.parameters?.docs?.source}}},ShowTooltipAndReferenceLine.parameters={...ShowTooltipAndReferenceLine.parameters,docs:{...ShowTooltipAndReferenceLine.parameters?.docs,source:{originalSource:"{\n  // More on args: https://storybook.js.org/docs/react/writing-stories/args\n  args: {\n    data,\n    showTooltip: true\n  }\n}",...ShowTooltipAndReferenceLine.parameters?.docs?.source}}},CustomOptionsForXAndYScale.parameters={...CustomOptionsForXAndYScale.parameters,docs:{...CustomOptionsForXAndYScale.parameters?.docs,source:{originalSource:"{\n  // More on args: https://storybook.js.org/docs/react/writing-stories/args\n  args: {\n    data: dataUsingTimestampAsKey,\n    showTooltip: true,\n    xScaleOptions: {\n      useTimeScale: true\n    },\n    yScaleOptions: {\n      domain: [0, 200]\n    },\n    xAxisOptions: {\n      timeformatSpecifier: '%Y %b'\n    },\n    margin: {\n      top: 15,\n      right: 20,\n      bottom: 30,\n      left: 30\n    }\n  }\n}",...CustomOptionsForXAndYScale.parameters?.docs?.source}}};const __namedExportsOrder=["Default","CustomStyle","CustomAxisOptions","ShowTooltipAndReferenceLine","CustomOptionsForXAndYScale"]}}]);